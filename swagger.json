{
  "openapi": "3.0.0",
  "info": {
    "title": "Simple Inventory API",
    "description": "This is a simple API",
    "contact": {
      "email": "you@your-company.com"
    },
    "license": {
      "name": "Apache 2.0",
      "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
    },
    "version": "2.0.0"
  },
  "servers": [
    {
      "url": "https://virtserver.swaggerhub.com/VITYLJATROJAN/nika-gold/2.0.0",
      "description": "SwaggerHub API Auto Mocking"
    }
  ],
  "tags": [
    {
      "name": "Products",
      "description": "CRUD операції, пошук, популярні товари і фільтри продуктів"
    },
    {
      "name": "Auth",
      "description": "Авторизація користувачів, токени і управління доступом"
    },
    {
      "name": "User",
      "description": "Операції з профілем користувача, включаючи список бажань і корзину"
    },
    {
      "name": "Admin",
      "description": "Операції для адміністраторів, включаючи доступ до адмінської панелі, керування користувачами та продуктами."
    }
  ],

  "paths": {
    "/api/products": {
      "get": {
        "tags": ["Products"],
        "summary": "Отримати всі продукти",
        "responses": {
          "200": {
            "description": "Список всіх продуктів",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Внутрішня помилка сервера"
          }
        }
      },
      "post": {
        "tags": ["Products"],
        "summary": "Додавання нового продукту",
        "requestBody": {
          "description": "Інформація про продукт для додавання",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Product"
              },
              "example": {
                "name": "Example Product",
                "price": 99.99,
                "description": "This is an example product"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Продукт додано",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Product"
                },
                "example": {
                  "id": 1,
                  "name": "Example Product",
                  "price": 99.99,
                  "description": "This is an example product"
                }
              }
            }
          },
          "400": {
            "description": "Помилка валідації даних"
          },
          "500": {
            "description": "Внутрішня помилка сервера"
          }
        }
      }
    },
    "/api/products/{type}": {
      "get": {
        "tags": ["Products"],
        "summary": "Отримати продукти за типом",
        "parameters": [
          {
            "name": "type",
            "in": "path",
            "description": "Тип продукту",
            "required": true,
            "style": "simple",
            "explode": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Список продуктів за типом",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Внутрішня помилка сервера"
          }
        }
      }
    },
    "/api/products/{id}": {
      "delete": {
        "tags": ["Products"],
        "summary": "Видалити продукт",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Ідентифікатор продукту",
            "required": true,
            "style": "simple",
            "explode": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Продукт видалено",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Product"
                }
              }
            }
          },
          "404": {
            "description": "Продукт не знайдено"
          },
          "500": {
            "description": "Внутрішня помилка сервера"
          }
        }
      },
      "get": {
        "tags": ["Products"],
        "summary": "Отримати детальну інформацію про продукт",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Ідентифікатор продукту",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Детальна інформація про продукт.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Product"
                }
              }
            }
          },
          "404": {
            "description": "Продукт не знайдено."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        }
      },
      "patch": {
        "tags": ["Products"],
        "summary": "Оновлення продукту",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Ідентифікатор продукту",
            "required": true,
            "style": "simple",
            "explode": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Product"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Продукт оновлено",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Product"
                }
              }
            }
          },
          "404": {
            "description": "Продукт не знайдено"
          },
          "500": {
            "description": "Внутрішня помилка сервера"
          }
        }
      }
    },
    "/api/products/search": {
      "get": {
        "tags": ["Products"],
        "summary": "Search for products by keyword",
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "description": "The keyword to search for in product names or descriptions.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Search results retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing keyword query parameter."
          },
          "404": {
            "description": "No products found matching the keyword."
          },
          "500": {
            "description": "Internal server error."
          }
        }
      }
    },
    "/api/products/filters": {
      "post": {
        "tags": ["Products"],
        "summary": "Фільтрація продуктів за категоріями, цінами тощо",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "priceRange": {
                    "type": "object",
                    "properties": {
                      "min": { "type": "number" },
                      "max": { "type": "number" }
                    }
                  },
                  "categories": {
                    "type": "array",
                    "items": { "type": "string" }
                  },
                  "materials": {
                    "type": "array",
                    "items": { "type": "string" }
                  }
                }
              },
              "example": {
                "priceRange": { "min": 10, "max": 100 },
                "categories": ["jewelry", "rings"],
                "materials": ["gold", "silver"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Відфільтровані продукти успішно отримано.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          },
          "400": { "description": "Некоректний запит." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/products/popular": {
      "get": {
        "tags": ["Products"],
        "summary": "Отримати популярні товари",
        "description": "Цей маршрут повертає список найбільш популярних товарів на основі переглядів, продажів чи інших метрик.",
        "responses": {
          "200": {
            "description": "Список популярних товарів успішно отримано.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },

    "/api/auth/check-admin": {
      "get": {
        "tags": ["Auth"],
        "summary": "Перевірка першого адміністратора",
        "responses": {
          "200": {
            "description": "Перевірка наявності першого адміністратора",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/inline_response_200"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/register/user": {
      "post": {
        "tags": ["Auth"],
        "summary": "Реєстрація нового користувача",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Auth"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Користувача зареєстровано"
          },
          "400": {
            "description": "Невірний запит"
          }
        }
      }
    },
    "/api/auth/register/admin": {
      "post": {
        "tags": ["Auth"],
        "summary": "Реєстрація нового адміністратора",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Auth"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Адміністратора зареєстровано"
          },
          "400": {
            "description": "Невірний запит"
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "tags": ["Auth"],
        "summary": "Авторизація користувача",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": { "type": "string", "example": "user@example.com" },
                  "password": { "type": "string", "example": "password123" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Успішна авторизація",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "token": { "type": "string" },
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "401": { "description": "Неправильний логін або пароль" },
          "500": { "description": "Внутрішня помилка сервера" }
        }
      }
    },
    "/api/auth/logout": {
      "post": {
        "tags": ["Auth"],
        "summary": "Вихід з системи",
        "responses": {
          "200": { "description": "Успішний вихід" },
          "500": { "description": "Внутрішня помилка сервера" }
        }
      }
    },
    "/api/auth/reset-password": {
      "post": {
        "tags": ["Auth"],
        "summary": "Відновлення пароля",
        "description": "Цей маршрут надсилає посилання для відновлення пароля на електронну пошту користувача.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "description": "Електронна пошта користувача",
                    "format": "email",
                    "example": "user@example.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Посилання для відновлення пароля надіслано."
          },
          "404": {
            "description": "Користувач із вказаною електронною поштою не знайдений."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        }
      }
    },
    "/api/auth/update-password": {
      "post": {
        "tags": ["Auth"],
        "summary": "Оновлення пароля",
        "description": "Цей маршрут дозволяє користувачу оновити свій пароль за допомогою токена відновлення.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "token": {
                    "type": "string",
                    "description": "Токен відновлення пароля",
                    "example": "reset-token-123"
                  },
                  "newPassword": {
                    "type": "string",
                    "description": "Новий пароль",
                    "format": "password",
                    "example": "newPassword123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Пароль оновлено успішно."
          },
          "400": {
            "description": "Неправильний або прострочений токен."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        }
      }
    },
    "/api/auth/refresh-token": {
      "post": {
        "tags": ["Auth"],
        "summary": "Оновлення токена доступу",
        "description": "Цей маршрут генерує новий токен доступу, використовуючи валідний refresh-токен.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "refreshToken": {
                    "type": "string",
                    "description": "Refresh-токен",
                    "example": "refresh-token-123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Новий токен доступу створено успішно.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "accessToken": {
                      "type": "string",
                      "description": "Новий токен доступу",
                      "example": "new-access-token-123"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Неправильний або прострочений refresh-токен."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        }
      }
    },
    "/api/auth/user": {
      "get": {
        "tags": ["User"],
        "summary": "Отримати дані користувача",
        "responses": {
          "200": {
            "description": "Дані про користувача",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "401": { "description": "Неавторизований користувач" },
          "500": { "description": "Внутрішня помилка сервера" }
        }
      }
    },
    "/api/admin/users": {
      "get": {
        "tags": ["Admin"],
        "summary": "Отримати список всіх користувачів",
        "responses": {
          "200": {
            "description": "Список користувачів",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/User" }
                }
              }
            }
          },
          "403": { "description": "Доступ заборонений" },
          "500": { "description": "Внутрішня помилка сервера" }
        }
      }
    },
    "/api/admin/users/{id}": {
      "delete": {
        "tags": ["Admin"],
        "summary": "Видалити користувача",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Ідентифікатор користувача",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "Користувача видалено" },
          "404": { "description": "Користувач не знайдений" },
          "500": { "description": "Внутрішня помилка сервера" }
        }
      }
    },
    "/api/admin/products": {
      "post": {
        "tags": ["Admin"],
        "summary": "Додати новий продукт",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/Product" }
            }
          }
        },
        "responses": {
          "201": { "description": "Продукт додано" },
          "500": { "description": "Внутрішня помилка сервера" }
        }
      }
    },
    "/api/admin/products/{id}": {
      "delete": {
        "tags": ["Admin"],
        "summary": "Видалення продукту за ID",
        "description": "Цей маршрут дозволяє адміністратору видалити продукт за унікальним ID.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Ідентифікатор продукту",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Продукт видалено успішно."
          },
          "404": {
            "description": "Продукт не знайдено."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        }
      },
      "patch": {
        "tags": ["Admin"],
        "summary": "Оновити продукт",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Ідентифікатор продукту",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/Product" }
            }
          }
        },
        "responses": {
          "200": { "description": "Продукт оновлено" },
          "404": { "description": "Продукт не знайдено" },
          "500": { "description": "Внутрішня помилка сервера" }
        }
      }
    },

    "/api/admin/dashboard": {
      "get": {
        "tags": ["Admin"],
        "summary": "Адмінська панель",
        "description": "Цей маршрут надає доступ до адмінської панелі. Доступний лише для користувачів з роллю 'admin'.",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": true,
            "description": "Bearer-токен для авторизації",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Доступ надано. Повернено дані адмін-панелі.",
            "content": {
              "application/json": {
                "examples": {
                  "success": {
                    "value": {
                      "message": "Welcome to the dashboard, admin@example.com!",
                      "stats": {
                        "totalUsers": 123,
                        "totalProducts": 456
                      },
                      "users": [
                        {
                          "id": "1",
                          "name": "User 1",
                          "email": "user1@example.com",
                          "role": "user"
                        },
                        {
                          "id": "2",
                          "name": "User 2",
                          "email": "user2@example.com",
                          "role": "user"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Доступ заборонено. Тільки для адмінів."
          },
          "401": {
            "description": "Неавторизований. Токен відсутній або недійсний."
          }
        }
      }
    },
    "/api/user/main": {
      "get": {
        "tags": ["User"],
        "summary": "Отримати основну інформацію для користувача",
        "description": "Цей маршрут повертає основні дані користувача, включаючи профіль та список продуктів.",
        "responses": {
          "200": {
            "description": "Дані користувача успішно отримані.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Welcome to the main page"
                    },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string", "example": "12345" },
                        "name": { "type": "string", "example": "John Doe" },
                        "role": { "type": "string", "example": "user" },
                        "preferences": {
                          "type": "array",
                          "items": { "type": "string" },
                          "example": ["electronics", "books"]
                        }
                      }
                    },
                    "products": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Product"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Неавторизований користувач."
          },
          "500": {
            "description": "Внутрішня помилка сервера."
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },

    "/api/user/profile": {
      "get": {
        "tags": ["User"],
        "summary": "Отримати профіль користувача",
        "responses": {
          "200": {
            "description": "Профіль користувача отримано успішно.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfile"
                }
              }
            }
          },
          "401": { "description": "Неавторизований користувач." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      },
      "put": {
        "tags": ["User"],
        "summary": "Оновити профіль користувача",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserProfile"
              },
              "example": {
                "username": "NewUsername",
                "email": "newemail@example.com",
                "avatar": "https://example.com/new-avatar.jpg"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Профіль користувача оновлено успішно."
          },
          "400": { "description": "Некоректний формат запиту." },
          "401": { "description": "Неавторизований користувач." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/user/avatar": {
      "post": {
        "tags": ["User"],
        "summary": "Завантаження або зміна аватара",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "avatar": {
                    "type": "string",
                    "format": "binary",
                    "description": "Файл аватара для завантаження."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Аватар оновлено успішно."
          },
          "400": { "description": "Некоректний формат запиту." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/user/wishlist": {
      "get": {
        "tags": ["User"],
        "summary": "Отримати список бажань користувача",
        "responses": {
          "200": {
            "description": "Список бажань отримано успішно.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/user/wishlist/add": {
      "post": {
        "tags": ["User"],
        "summary": "Додати товар до списку бажань",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "productId": {
                    "type": "string",
                    "description": "ID товару."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Товар додано до списку бажань."
          },
          "400": { "description": "Некоректний запит." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/user/wishlist/remove/{id}": {
      "delete": {
        "tags": ["User"],
        "summary": "Видалити товар зі списку бажань",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID товару для видалення.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Товар видалено зі списку бажань."
          },
          "404": { "description": "Товар не знайдено." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/user/preferences": {
      "post": {
        "tags": ["User"],
        "summary": "Зберегти персональні налаштування",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "preferences": {
                    "type": "array",
                    "description": "Список обраних категорій.",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              },
              "example": {
                "preferences": ["category1", "category2"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Налаштування збережено успішно."
          },
          "400": { "description": "Некоректний формат запиту." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/user/shopping-cart": {
      "get": {
        "tags": ["User"],
        "summary": "Отримати список товарів у корзині",
        "responses": {
          "200": {
            "description": "Список товарів у корзині успішно отримано.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/user/shopping-cart/add": {
      "post": {
        "tags": ["User"],
        "summary": "Додати товар до корзини",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "productId": {
                    "type": "string",
                    "description": "ID товару."
                  },
                  "quantity": {
                    "type": "integer",
                    "description": "Кількість товару.",
                    "example": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Товар додано до корзини."
          },
          "400": { "description": "Некоректний запит." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/user/shopping-cart/remove/{id}": {
      "delete": {
        "tags": ["User"],
        "summary": "Видалити товар з корзини",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID товару для видалення.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Товар успішно видалено з корзини."
          },
          "404": { "description": "Товар не знайдено." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },
    "/api/user/purchase-history": {
      "get": {
        "tags": ["User"],
        "summary": "Отримати історію покупок користувача",
        "description": "Цей маршрут повертає список усіх минулих покупок користувача.",
        "responses": {
          "200": {
            "description": "Історію покупок успішно отримано.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Purchase"
                  }
                }
              }
            }
          },
          "401": { "description": "Неавторизований користувач." },
          "500": { "description": "Внутрішня помилка сервера." }
        }
      }
    },

    "/api/subscribe": {
      "post": {
        "tags": ["Subscription"],
        "summary": "Підписка на нові товари",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Subscription"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Підписка оформлена"
          },
          "400": {
            "description": "Невірний запит"
          },
          "500": {
            "description": "Внутрішня помилка сервера"
          }
        }
      }
    },
    "/api/unsubscribe": {
      "post": {
        "tags": ["Subscription"],
        "summary": "Відписка від нових товарів",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Unsubscription"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Відписка успішна"
          },
          "400": {
            "description": "Невірний запит"
          },
          "404": {
            "description": "Електронну пошту не знайдено"
          },
          "500": {
            "description": "Внутрішня помилка сервера"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Purchase": {
        "type": "object",
        "properties": {
          "orderId": {
            "type": "string",
            "description": "Унікальний ідентифікатор замовлення."
          },
          "date": {
            "type": "string",
            "description": "Дата покупки.",
            "format": "date-time"
          },
          "totalAmount": {
            "type": "number",
            "description": "Загальна сума покупки.",
            "example": 150.5
          },
          "items": {
            "type": "array",
            "description": "Список товарів у цьому замовленні.",
            "items": {
              "$ref": "#/components/schemas/Product"
            }
          },
          "status": {
            "type": "string",
            "description": "Статус замовлення (наприклад, 'completed', 'cancelled').",
            "example": "completed"
          },
          "shippingAddress": {
            "type": "string",
            "description": "Адреса доставки для замовлення."
          },
          "paymentMethod": {
            "type": "string",
            "description": "Спосіб оплати.",
            "example": "Credit Card"
          }
        }
      },

      "Subscription": {
        "required": ["email"],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Електронна пошта для підписки",
            "format": "email"
          },
          "preferences": {
            "type": "array",
            "description": "Список категорій, на які користувач хоче підписатися",
            "items": {
              "type": "string"
            }
          },
          "subscriptionType": {
            "type": "string",
            "description": "Тип підписки (наприклад, 'newsletter', 'promotions')."
          }
        }
      },
      "Unsubscription": {
        "required": ["email"],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Електронна пошта для відписки",
            "format": "email"
          }
        }
      },
      "UserProfile": {
        "required": ["email", "username"],
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "description": "Ім'я користувача"
          },
          "email": {
            "type": "string",
            "description": "Електронна пошта користувача",
            "format": "email"
          },
          "avatar": {
            "type": "string",
            "description": "URL аватара користувача"
          },
          "basket": {
            "type": "array",
            "description": "Кошик користувача",
            "items": {
              "type": "string"
            }
          },
          "createdAt": {
            "type": "string",
            "description": "Дата створення аккаунту",
            "format": "date-time"
          },
          "role": {
            "type": "string",
            "description": "Роль користувача (наприклад, 'admin', 'user')",
            "example": "admin"
          },
          "isActive": {
            "type": "boolean",
            "description": "Статус аккаунту користувача (активний чи деактивований).",
            "default": true
          }
        }
      },
      "Product": {
        "required": [
          "category",
          "description",
          "name",
          "photoUrl",
          "price",
          "size",
          "subcategory"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Назва товару"
          },
          "category": {
            "type": "string",
            "description": "Категорія товару"
          },
          "subcategory": {
            "type": "string",
            "description": "Підкатегорія товару"
          },
          "price": {
            "type": "number",
            "description": "Ціна товару"
          },
          "description": {
            "type": "string",
            "description": "Опис товару"
          },
          "photoUrl": {
            "type": "string",
            "description": "URL фотографії товару"
          },
          "size": {
            "type": "string",
            "description": "Розмір товару"
          },
          "inStock": {
            "type": "boolean",
            "description": "Наявність на складі",
            "default": true
          },
          "visible": {
            "type": "boolean",
            "description": "Видимість товару",
            "default": true
          },
          "createdAt": {
            "type": "string",
            "description": "Дата створення товару",
            "format": "date-time"
          },
          "discount": {
            "type": "number",
            "description": "Розмір знижки на товар.",
            "example": 10
          },
          "rating": {
            "type": "number",
            "description": "Середній рейтинг товару.",
            "example": 4.5
          }
        }
      },
      "Error": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "Код помилки.",
            "example": 500
          },
          "message": {
            "type": "string",
            "description": "Опис помилки.",
            "example": "Internal server error."
          }
        }
      },
      "Review": {
        "type": "object",
        "properties": {
          "reviewId": {
            "type": "string",
            "description": "ID відгуку."
          },
          "productId": {
            "type": "string",
            "description": "ID продукту, на який залишено відгук."
          },
          "userId": {
            "type": "string",
            "description": "ID користувача, який залишив відгук."
          },
          "rating": {
            "type": "number",
            "description": "Рейтинг продукту.",
            "example": 4.5
          },
          "comment": {
            "type": "string",
            "description": "Текст відгуку."
          },
          "createdAt": {
            "type": "string",
            "description": "Дата створення відгуку.",
            "format": "date-time"
          }
        }
      },
      "Payment": {
        "type": "object",
        "properties": {
          "paymentId": {
            "type": "string",
            "description": "ID транзакції."
          },
          "amount": {
            "type": "number",
            "description": "Сума платежу.",
            "example": 150.5
          },
          "method": {
            "type": "string",
            "description": "Спосіб оплати.",
            "example": "Credit Card"
          },
          "status": {
            "type": "string",
            "description": "Статус платежу.",
            "example": "Completed"
          },
          "date": {
            "type": "string",
            "description": "Дата платежу.",
            "format": "date-time"
          }
        }
      },

      "Auth": {
        "required": ["email", "password", "username"],
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "description": "Ім'я користувача"
          },
          "email": {
            "type": "string",
            "description": "Електронна пошта користувача",
            "format": "email"
          },
          "password": {
            "type": "string",
            "description": "Пароль користувача",
            "format": "password"
          },
          "avatar": {
            "type": "string",
            "description": "URL аватара користувача"
          },
          "basket": {
            "type": "array",
            "description": "Кошик користувача",
            "items": {
              "type": "string"
            }
          },
          "createdAt": {
            "type": "string",
            "description": "Дата створення аккаунту",
            "format": "date-time"
          },
          "role": {
            "type": "string",
            "description": "Роль користувача",
            "example": "user"
          },
          "tokenStatus": {
            "type": "string",
            "description": "Статус токена (активний, прострочений)."
          }
        }
      },
      "inline_response_200": {
        "type": "object",
        "properties": {
          "isFirstAdmin": {
            "type": "boolean"
          },
          "DashboardStats": {
            "type": "object",
            "description": "Статистика адмін-панелі",
            "properties": {
              "totalUsers": {
                "type": "integer",
                "description": "Загальна кількість користувачів"
              },
              "totalProducts": {
                "type": "integer",
                "description": "Загальна кількість продуктів"
              }
            }
          },
          "AdminDashboard": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "description": "Привітання в адмін-панелі"
              },
              "stats": {
                "$ref": "#/components/schemas/DashboardStats"
              },
              "users": {
                "type": "array",
                "description": "Список користувачів",
                "items": {
                  "$ref": "#/components/schemas/UserProfile"
                }
              }
            }
          }
        }
      }
    }
  }
}
